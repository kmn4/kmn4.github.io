[{"content":"Google Domains が Squarespace に売却されたので、kamasaki.net を Cloudflare に移管した。\nその際 MX レコードには特に問題がなかったが、GitHub Pages で構築したこのブログにアクセスできなくなっていた。\n解決法 kmn4.github.io に向けていた CNAME レコードの proxy status を DNS only にすることで、無事 HTTPS アクセスができるようになった。\n原因と思しきもの 解決まで紆余曲折あったため十分に検証できていないが、恐らくこの問題が関係している。\nCloudflare の DNS レコード設定には \u0026ldquo;Proxy status\u0026rdquo; という項目があって、これが \u0026ldquo;Proxied\u0026rdquo; だと、dig ったときに Cloudflare の IP アドレスが返ってくる12。\nこれにより GitHub Pages への HTTP(S) トラフィックは必ず Cloudflare を通ることとなり、Cloudflare 側でキャシュや DDoS 対策ができるらしいが、それと同時に GitHub 側が HTTPS 用のサーバ証明書を更新できなくなるようだ34。\n  https://developers.cloudflare.com/dns/manage-dns-records/reference/proxied-dns-records/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Cloudflare の IP アドレスレンジはこちら: https://www.cloudflare.com/ips/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n ACME プロトコルによるドメイン検証ができなくなるということだろうが、詳しくないので説明できない。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n この理屈なら DNS レコード修正前でも HTTP ではアクセスできたはずだが、修正前に試してないためなんとも言えない。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2023-12-26T20:57:50+09:00","permalink":"https://blog.kamasaki.net/post/fix-github-pages-after-migration-to-cloudflare-registrar/","title":"Cloudflare 移管後に GitHub Pages が壊れた"},{"content":"てすと\nああああ\n   key value     k v !    sealed trait Exp[A] case object True extends Exp[Boolean] case object Flase extends Exp[Boolean] case class Eq(e1: Exp[Int], e2: Exp[Int]) extends Exp[Boolean] ","date":"2021-06-26T16:08:07+09:00","permalink":"https://blog.kamasaki.net/post/test/","title":"Test"}]